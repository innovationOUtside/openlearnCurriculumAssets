
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Querying the Database With datasette &#8212; Working With OpenLearn Curriculum Assets</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Working With Learning Outcomes" href="learning_outcomes.html" />
    <link rel="prev" title="Working With OU-XML" href="working-with-ouxml.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Working With OpenLearn Curriculum Assets</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Introduction
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Foundations
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="scraping_openlearn.html">
   Scraping OpenLearn
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ouxml-intro.html">
   A Quick Overview of OU-XML
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="working-with-ouxml.html">
   Working With OU-XML
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Querying the Database With
   <code class="docutils literal notranslate">
    <span class="pre">
     datasette
    </span>
   </code>
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Towards An OU-XML Curriculum Asset Bank
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="learning_outcomes.html">
   Working With Learning Outcomes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="glossary.html">
   Working With Glossary Items
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="activity.html">
   Working With Activities, Exercises, ITQs and SAQs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="media_items.html">
   Working With Figures and Media Items
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="equations.html">
   Working With Equations
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Unit Mapping
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="index_maps.html">
   Unit Mapping
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ouxml-quality-audit.html">
   OU-XML Health Checks and Quality Audits
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/datasette-ui.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-datasette-user-interface">
   The
   <code class="docutils literal notranslate">
    <span class="pre">
     datasette
    </span>
   </code>
   User Interface
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#querying-glossary-items">
   Querying Glossary Items
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#querying-learning-outcomes-viewing-facets-and-downloading-data">
   Querying Learning Outcomes, Viewing Facets and Downloading Data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#searching-across-tables">
   Searching Across Tables
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#searching-for-figures">
   Searching for Figures
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#searching-for-media-objects-audio-files-video-files-etc">
   Searching for Media Objects (Audio Files, VIdeo Files, etc.)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#searching-for-activities">
   Searching for Activities
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#searching-for-equations">
   Searching for Equations
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Querying the Database With datasette</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-datasette-user-interface">
   The
   <code class="docutils literal notranslate">
    <span class="pre">
     datasette
    </span>
   </code>
   User Interface
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#querying-glossary-items">
   Querying Glossary Items
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#querying-learning-outcomes-viewing-facets-and-downloading-data">
   Querying Learning Outcomes, Viewing Facets and Downloading Data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#searching-across-tables">
   Searching Across Tables
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#searching-for-figures">
   Searching for Figures
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#searching-for-media-objects-audio-files-video-files-etc">
   Searching for Media Objects (Audio Files, VIdeo Files, etc.)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#searching-for-activities">
   Searching for Activities
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#searching-for-equations">
   Searching for Equations
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="querying-the-database-with-datasette">
<h1>Querying the Database With <code class="docutils literal notranslate"><span class="pre">datasette</span></code><a class="headerlink" href="#querying-the-database-with-datasette" title="Permalink to this headline">#</a></h1>
<p>The primary intention of this set of notes was to explore the disaggregation of OpenLearn OU-XML elements into component parts that can then be searched at an appropriate level of granularity. The intention was <em>not</em> to create an end user tool, such as a simple search interface with a single, simple search box and a set of faceted views over the results.</p>
<p>However, a demonstration of how the search tables can be searched is provided in the form of an in-browser <code class="docutils literal notranslate"><span class="pre">datasette</span></code> user interface that supports simple full-text search over full-text search indexed tables, as well as finer grained SQL queries.</p>
<p>No apology is given for providing such a “technical” search interface. User-interface design is a completely separate issue. The database as it stands is <strong>usable today</strong> by anyone who cares to learn how to use it. It can be used to help identify the sorts of search that a user is likely to want to run, the level of granularity of results that are useful, and the form in which the discovered content should be returned. In contrast, a concept design for a user interface that may never get built, and with no database or search engine behind it, has zero utility for search and discovery, no matter how pretty it is.</p>
<section id="the-datasette-user-interface">
<h2>The <code class="docutils literal notranslate"><span class="pre">datasette</span></code> User Interface<a class="headerlink" href="#the-datasette-user-interface" title="Permalink to this headline">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Datasette</span></code> provides a relatively simple, browser based graphical user interface for querying one or more file based SQLite databases. <code class="docutils literal notranslate"><span class="pre">Datasette</span></code> can run purely in the browser, with no requirements for external hosting or serving of the database. The <code class="docutils literal notranslate"><span class="pre">datasette</span></code> user interface supports the querying of a SQLite database via SQL commands; thise commands may be graphically constructed from ueser interface elements. In addition, if <code class="docutils literal notranslate"><span class="pre">datasette</span></code> identifies the presence of a full-text search table associated with a selected database table, it will present a full text search query box for quering over that table.</p>
<p>The results are provided in the form of a table of results. Queries can be shared by sharing URLs. It is possible to select which columns are displayed by tweaking URL parameters.</p>
<p><em><strong>WARNING: 100MB+ download:</strong> the database application runs purely in your browser and may take a minute or two to load.</em></p>
<p><img alt="datasette home page showing links to individual tables" src="_images/datasette_home.png" /></p>
<p>Use the breadcrumb navigation trail links to return to the <code class="docutils literal notranslate"><span class="pre">datasette</span></code> homepage. This avoids having to reload the database into your browser.</p>
<p><img alt="Breadcrumb avigation in datasette" src="_images/datasette-table-breadcrumb_nav.png" /></p>
</section>
<section id="querying-glossary-items">
<h2>Querying Glossary Items<a class="headerlink" href="#querying-glossary-items" title="Permalink to this headline">#</a></h2>
<p>A search over glossary items can be tried <a class="reference external" href="https://lite.datasette.io/?url=https%3A%2F%2Fraw.githubusercontent.com%2FinnovationOUtside%2FopenlearnCurriculumAssets%2Fmain%2Fsrc%2Fopenlean_assets.db%3Fraw%3Dtrue#/openlean_assets/glossary">HERE</a>.</p>
<p>This search helps authors disover glossary terms and definitions from across <em>all</em> the OpenLearn materials.</p>
<p><img alt="Screenshot of default datasette OpenLearn scrape glossary database table" src="_images/datasette_glossary_fts.png" /></p>
<p>In addition, searches can be performed on the <em>glossary</em> database table directly. For example, searching within the <code class="docutils literal notranslate"><span class="pre">term</span></code> column will search for search terms (exact match) that appear in the glossary term text, and searching the <code class="docutils literal notranslate"><span class="pre">definitions</span></code> column will turn up items where the query matches the glossary item definition.</p>
<p><img alt="Screenshot of datasette column search and facet recommendation" src="_images/datasette_glossary_facet.png" /></p>
<p>Facetted filtering of results can be enabled by clicking to select a suggested facet column. Unique values found with the facetting column can then be clicked to display just results with that facet value.</p>
</section>
<section id="querying-learning-outcomes-viewing-facets-and-downloading-data">
<h2>Querying Learning Outcomes, Viewing Facets and Downloading Data<a class="headerlink" href="#querying-learning-outcomes-viewing-facets-and-downloading-data" title="Permalink to this headline">#</a></h2>
<p>Many, but not all, OpenLearn units define learning outcomes at the unit level. Once again, these can be discovered from the full-text search box associated with the appropraite table, in this case, the <code class="docutils literal notranslate"><span class="pre">lo</span></code> table:</p>
<p><img alt="datasette lo table showing a full text search term and code facet selected" src="_images/datasette_lo_facet.png" /></p>
<p>The <code class="docutils literal notranslate"><span class="pre">class</span></code> facet is also selected showing the range of unique values available within that facet (i.e. within the <code class="docutils literal notranslate"><span class="pre">code</span></code> column). Selecting a particular facet value with filter the search to results with that facet value.</p>
<p>In this case, we note that the code values do not appear to have been normalised to upper case alphabetic values. In addition, there appear to be some results where a code has not been provided. Rapid prototyping displays such as this can be play a useful role in interating over data models and data cleaning steps where the actual content of the database or the state of the data contained within it is not known at the start of the database modelling and ingest process.</p>
<p>We also note that the <code class="docutils literal notranslate"><span class="pre">code</span></code> refers to the parent module code, and we are perhaps lacking additional metadata (at least for now) regarding the “sort order” of OpenLearn units extracted from the same parent module.</p>
<p>The data returned from a query can bew previewed and downloaded in a varoety of data formats:</p>
<p><img alt="datasette download data format options - various flavours of JSON and CSV" src="_images/datasette_export.png" /></p>
</section>
<section id="searching-across-tables">
<h2>Searching Across Tables<a class="headerlink" href="#searching-across-tables" title="Permalink to this headline">#</a></h2>
<p>To support discovery of units based on particular aspects of a unit we can search across tables. For example, what learning outcomes are associated with units where the learning outcome includes the word <em>understand</em> and a glossary defition contains the word <em>personal</em>? [<a class="reference external" href="https://lite.datasette.io/?url=https%3A%2F%2Fraw.githubusercontent.com%2FinnovationOUtside%2FopenlearnCurriculumAssets%2Fmain%2Fsrc%2Fopenlean_assets.db%3Fraw%3Dtrue#/openlean_assets?sql=SELECT+lo%2C+term%2C+definition%2C+lo.code%2C+lo.name+FROM+lo%2C+glossary+WHERE+lo._id%3Dglossary._id+AND+glossary.definition+LIKE+%27%25personal%25%27+AND+lo+LIKE+%27%25understand%25%27">view it here</a>]</p>
<p><img alt="" src="_images/datasette_custom_query.png" /></p>
</section>
<section id="searching-for-figures">
<h2>Searching for Figures<a class="headerlink" href="#searching-for-figures" title="Permalink to this headline">#</a></h2>
<p>At the moment, the images themselves are not stored within the database, but their captions and descriptions are indexed. Ideally, previews of figures should be made available with the search results, but this makes for a much larger database if those items are stored inside the database itself. It may be possible to store a link to an OpenLearn web URL from which a resource may be retrieved over the network, but that has not been explored at this stage: for now, we are limited to just retrieving a description and a potentially unresolvable reference.</p>
<p><img alt="" src="_images/datasette_figure_search.png" /></p>
</section>
<section id="searching-for-media-objects-audio-files-video-files-etc">
<h2>Searching for Media Objects (Audio Files, VIdeo Files, etc.)<a class="headerlink" href="#searching-for-media-objects-audio-files-video-files-etc" title="Permalink to this headline">#</a></h2>
<p>At the moment, the media objects themselves are not stored within the database, but their captions and trasncripts are indexed. Ideally, previews of the media assets should be made available with the search results, but this makes for a much larger database if those items are stored inside the database itself. It may be possible to store a link to an OpenLearn web URL from which a resource may be retrieved over the network, but that has not been explored at this stage: for now, we are limited to just retrieving a description and a potentially unresolvable reference.</p>
<p>Currently, we can run full text searches over captions, descriptions,  etc, as well as in those fields directly:</p>
<p><img alt="" src="_images/datasette_media_search.png" /></p>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">xpath</span></code> column provides some context for where the media object is being used. For example, the <code class="docutils literal notranslate"><span class="pre">xpath</span></code> might revel to us that the asset is being used in the context of an activity. As with the <code class="docutils literal notranslate"><span class="pre">Figures</span></code> table, this means that we can search for items within a particular context (e.g. we might search for an <code class="docutils literal notranslate"><span class="pre">xpath</span></code> that contains <code class="docutils literal notranslate"><span class="pre">Activity</span></code> or <code class="docutils literal notranslate"><span class="pre">ITQ</span></code> as part of the context.</p>
<p>We also note that there is a wide range of media types available, and these can also be used as search limits.</p>
<p>This might help maitenance among other things. For example, it would be trivial to search for deprecated <code class="docutils literal notranslate"><span class="pre">flash</span></code> media object types.</p>
</section>
<section id="searching-for-activities">
<h2>Searching for Activities<a class="headerlink" href="#searching-for-activities" title="Permalink to this headline">#</a></h2>
<p>Various actvity types can be extracted from OU-XML materials, including <em>activities</em>, <em>exercises</em>, <em>ITQs</em> and <em>SAQs</em>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">activities</span></code> table breaks out the various components of an activity type so that we can search within just that part of an activity. For example, we can search just the question part for references to <em>compare and contrast</em>.</p>
<p><img alt="Using datsette UI to search for a particular column that contains a particular value." src="_images/datasette_activity_compare_contrast.png" /></p>
<p>A full-text search is available that will search over all the text components.</p>
<p>The faceted search utility provided by <code class="docutils literal notranslate"><span class="pre">datasette</span></code> makes it easy to run a search over all activity types and then filter down to a particular activity type where multiple activity types are returned as part of a query.</p>
</section>
<section id="searching-for-equations">
<h2>Searching for Equations<a class="headerlink" href="#searching-for-equations" title="Permalink to this headline">#</a></h2>
<p>Searching for equations directly is complicated by the fact that the equation itself may be represented using MathML or even provided in the form of an image. To support discovery of equations, we create a simple index based on the <em>context</em> of the equation, indexing the text in the block element around the equation and using that as the basis of our search text.</p>
<p>For example, we can search for context containing specified full-test search terms:</p>
<p><img alt="" src="_images/datasette_equation_context.png" /></p>
<p>We can also join searches on the <code class="docutils literal notranslate"><span class="pre">equations_context</span></code> table with equations in the context that are listed in the <code class="docutils literal notranslate"><span class="pre">equations</span></code> table:</p>
<p><img alt="" src="_images/datasette_equation_and_context.png" /></p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="working-with-ouxml.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Working With OU-XML</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="learning_outcomes.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Working With Learning Outcomes</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Tony Hirst<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>